<view class="content">
  <view class="detail-container">
    <!-- å›¾ç‰‡éƒ¨åˆ† -->
    <view class="picture-section">
      <image class="detail-picture" src="{{picture}}" mode="widthFix" show-menu-by-longpress="true"></image>
    </view>
    
    <!-- è§†é¢‘éƒ¨åˆ† -->
    <view class="video-section">
      <video class="detail-video" src="{{video}}" controls bindlongpress="longPressVideo"></video>
    </view>
  </view>
  
  <!-- äº’åŠ¨æ  -->
  <view class="action-bar">
    <view class="action-item" bindtap="toggleLike">
      <view class="action-text-large">{{isLiked ? 'â¤ï¸' : 'ğŸ¤'}}</view>
      <text class="action-text">{{likeCount}}</text>
    </view>
    <view class="action-item" bindtap="showCommentInput">
      <view class="action-text-large">ğŸ’¬</view>
      <text class="action-text">{{commentCount}}</text>
    </view>
    <button class="action-item action-button" open-type="share">
      <view class="action-text-large">ğŸ”„</view>
      <text class="action-text">è½¬å‘</text>
    </button>
  </view>
  
  <!-- è¯„è®ºè¾“å…¥æ¡† -->
  <view class="comment-input-container" wx:if="{{showCommentInput}}">
    <textarea class="comment-input" placeholder="å†™è¯„è®º..." bindinput="onCommentInput" value="{{commentText}}" />
    <button class="comment-btn" bindtap="submitComment">å‘é€</button>
  </view>
  
  <!-- è¯„è®ºåˆ—è¡¨ -->
  <view class="comments-list" wx:if="{{comments.length > 0}}">
    <view class="comments-header">è¯„è®ºï¼ˆ{{comments.length}}ï¼‰</view>
    <view class="comment-item" wx:for="{{comments}}" wx:key="_id">
      <image class="comment-avatar" src="{{item.authorAvatar}}" mode="aspectFill"></image>
      <view class="comment-content">
        <view class="comment-header">
          <view class="comment-author">{{item.authorName}}</view>
          <view class="comment-time">{{item.time}}</view>
        </view>
        <view class="comment-text">{{item.text}}</view>
      </view>
      <view class="comment-delete" wx:if="{{item._openid === openid}}" bindtap="deleteComment" data-id="{{item._id}}" data-openid="{{item._openid}}">åˆ é™¤</view>
    </view>
  </view>
</view>
